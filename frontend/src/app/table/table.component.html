<div class="toolbar" role="banner">
  <img width="40" alt="App Logo" src="assets/logo.png">
  <span>Elenco dettagliato</span>
  <div class="spacer"></div>
  <button mat-icon-button class="info-button" (click)="openDescriptionPopup()">
    <mat-icon>help</mat-icon>
  </button>
  <button mat-button class="back-button" (click)="goBack()">Indietro</button>
</div>

<div class="contenitore">
  <mat-card>
    <div class="subcontainer">
      <table mat-table [dataSource]="files">

        <ng-container *ngIf="section === 'Ruoli'">
          <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef>No.</th>
            <td mat-cell *matCellDef="let file; let i = index">{{ i + 1 }}</td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Nome</th>
            <td mat-cell *matCellDef="let file">{{ file.nome }}</td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let file" class="file-cell">
              <button mat-icon-button class="file-button" (click)="editFile('Ruoli', file.nome)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button class="file-button" (click)="openFile(file, 'Ruoli')">
                <mat-icon>list_alt</mat-icon>
              </button>
              <button mat-icon-button class="file-button" (click)="deleteRole(file.nome)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="tableColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let file; columns: tableColumns;"></tr>
        </ng-container>

        <ng-container *ngIf="section === 'Dipendenti'">
          <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef>No.</th>
            <td mat-cell *matCellDef="let file; let i = index">{{ i + 1 }}</td>
          </ng-container>

          <ng-container matColumnDef="surname">
            <th mat-header-cell *matHeaderCellDef>Cognome</th>
            <td mat-cell *matCellDef="let file">{{ file.cognome }}</td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Nome</th>
            <td mat-cell *matCellDef="let file">{{ file.nome }}</td>
          </ng-container>

          <ng-container matColumnDef="CF">
            <th mat-header-cell *matHeaderCellDef>Codice Fiscale</th>
            <td mat-cell *matCellDef="let file">{{ file.cf }}</td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let file" class="file-cell">
              <button mat-icon-button class="file-button" (click)="editFile('Dipendenti', file.cf)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button class="file-button" (click)="openFile(file, 'Dipendenti')">
                <mat-icon>list_alt</mat-icon>
              </button>
              <button mat-icon-button class="file-button" (click)="deleteEmployee(file.cf)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="tableColumnsDipendenti; sticky: true"></tr>
          <tr mat-row *matRowDef="let file; columns: tableColumnsDipendenti;"></tr>
        </ng-container>

      </table>
    </div>
  </mat-card>
</div>
